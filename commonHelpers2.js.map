{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-video.js"],"sourcesContent":["import VimeoPlayer from '@vimeo/player';\nimport throttle from 'lodash.throttle';\n\nconst iframe = document.querySelector('#vimeo-player');\nconst player = new VimeoPlayer(iframe);\n\nconst STORAGE_KEY = 'videoplayer-current-time';\nconst THROTTLE_INTERVAL = 1000;\n\nfunction setCurrentTime(timing) {\n  try {\n    localStorage.setItem(STORAGE_KEY, timing);\n  } catch (error) {\n    console.error(\n      `Failed to save current time to localStorage: ${error.message}`\n    );\n  }\n}\n\nfunction getCurrentTime() {\n  try {\n    return Number(localStorage.getItem(STORAGE_KEY));\n  } catch (error) {\n    console.error(\n      `Failed to retrieve current time from localStorage: ${error.message}`\n    );\n    return 0;\n  }\n}\n\nconst throttledSetCurrentTime = throttle(setCurrentTime, THROTTLE_INTERVAL, {\n  trailing: true,\n});\n\nplayer.on('timeupdate', function (data) {\n  throttledSetCurrentTime(data.seconds);\n});\n\nplayer.setCurrentTime(getCurrentTime()).catch(error => {\n  console.error(`Failed to set current time on Vimeo player: ${error.message}`);\n});\n"],"names":["iframe","player","VimeoPlayer","STORAGE_KEY","THROTTLE_INTERVAL","setCurrentTime","timing","error","getCurrentTime","throttledSetCurrentTime","throttle","data"],"mappings":"+IAGA,MAAMA,EAAS,SAAS,cAAc,eAAe,EAC/CC,EAAS,IAAIC,EAAYF,CAAM,EAE/BG,EAAc,2BACdC,EAAoB,IAE1B,SAASC,EAAeC,EAAQ,CAC9B,GAAI,CACF,aAAa,QAAQH,EAAaG,CAAM,CACzC,OAAQC,EAAO,CACd,QAAQ,MACN,gDAAgDA,EAAM,OAAO,EACnE,CACG,CACH,CAEA,SAASC,GAAiB,CACxB,GAAI,CACF,OAAO,OAAO,aAAa,QAAQL,CAAW,CAAC,CAChD,OAAQI,EAAO,CACd,eAAQ,MACN,sDAAsDA,EAAM,OAAO,EACzE,EACW,CACR,CACH,CAEA,MAAME,EAA0BC,EAASL,EAAgBD,EAAmB,CAC1E,SAAU,EACZ,CAAC,EAEDH,EAAO,GAAG,aAAc,SAAUU,EAAM,CACtCF,EAAwBE,EAAK,OAAO,CACtC,CAAC,EAEDV,EAAO,eAAeO,EAAc,CAAE,EAAE,MAAMD,GAAS,CACrD,QAAQ,MAAM,+CAA+CA,EAAM,OAAO,EAAE,CAC9E,CAAC"}